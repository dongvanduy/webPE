@{
    ViewData["Title"] = "Bonepile";
    Layout = "~/Areas/Bonepile/Views/Shared/_Layout_Bonepile.cshtml";
}

<div class="dashboard-grid">
    <div class="dashboard-left">
        <div class="data-card chart-card">
            <div class="panel-title">Trạng Thái</div>
            <div class="chart-container-lg">
                <div id="statusBarChart" class="echart"></div>
            </div>
        </div>
        <div class="data-card chart-card">
            <div class="panel-title">Phân Bổ &amp; Aging</div>
            <div class="chart-container-lg">
                <div id="productLineAgingChart" class="echart"></div>
            </div>
        </div>
    </div>
    <div class="dashboard-right">
        <div class="data-card kpi-card">
            <div class="panel-title">Thống Kê</div>
            <div class="kpi-grid">
                <div class="donut-box"><div class="donut-percent" id="totalCount">N/A</div><div class="donut-label">Total</div></div>
                <div class="donut-box"><div class="donut-percent" id="scrapCount">N/A</div><div class="donut-label">ScrapHasTask</div></div>
                <div class="donut-box"><div class="donut-percent" id="noTaskscrapCount">N/A</div><div class="donut-label">ScrapLackTask</div></div>
                <div class="donut-box"><div class="donut-percent" id="waitingScrapCount">N/A</div><div class="donut-label">WaitingApprovalScrap</div></div>
                <div class="donut-box"><div class="donut-percent" id="waitingBGACount">N/A</div><div class="donut-label">WaitingApprovalBGA</div></div>
                <div class="donut-box"><div class="donut-percent" id="approvedBGACount">N/A</div><div class="donut-label">ApprovedBGA</div></div>
                <div class="donut-box"><div class="donut-percent" id="repairInRECount">N/A</div><div class="donut-label">UnderRepairInRE</div></div>
                <div class="donut-box"><div class="donut-percent" id="waitingCheckOutCount">N/A</div><div class="donut-label">WaitingCheckOut</div></div>
                <div class="donut-box"><div class="donut-percent" id="notRepairProcessCount">N/A</div><div class="donut-label">Can'tRepairProcess</div></div>
                <div class="donut-box"><div class="donut-percent" id="waitingLinkCount">N/A</div><div class="donut-label">WaitingLink</div></div>
                <div class="donut-box"><div class="donut-percent" id="linkedCount">N/A</div><div class="donut-label">Linked</div></div>
            </div>
        </div>
    </div>
</div>
<div class="chart-card">
    <div class="aging-split">
        <div class="mini-chart-box">
            <div class="mini-chart-title">AGING</div>
            <div class="chart-container-aging">
                <div id="agingPieChart" class="echart"></div>
            </div>
        </div>
        <div class="aging-table-card">
            <div class="mini-chart-title">AGING THEO LINE</div>
            <div class="table-responsive compact-table">
                <table id="productLineAgingTable" class="table table-bordered table-striped" style="width:100%">
                    <thead>
                        <tr>
                            <th>ProductLine</th>
                            <th>&lt;45</th>
                            <th>45-89</th>
                            <th>&ge;90</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="productLineAgingTableBody"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<div class="data-card table-card">
    <div class="table-responsive">
        <table id="sumMaterialsTable" class="table table-bordered table-striped bonepile-table" style="width:100%">
            <thead>
                <tr>
                    <th>SERIAL_NUMBER</th>
                    <th>PRODUCT_LINE</th>
                    <th>MODEL_NAME</th>
                    <th>MO_NUMBER</th>
                    <th>WIP_GROUP(SFC)</th>
                    <th>WIP_GROUP(KB)</th>
                    <th>ERROR_FLAG</th>
                    <th>WORK_FLAG</th>
                    <th>TEST_GROUP</th>
                    <th>TEST_TIME</th>
                    <th>TEST_CODE</th>
                    <th>CODE_ITEM</th>
                    <th>ERROR_DESC</th>
                    <th>STATUS</th>
                    <th>STATUS_V2</th>
                    <th>AGING</th>
                    <th>AGING_OLD</th>
                    <th>LOCATION</th>
                    <th>TEST_SN</th>
                    <th>STATION_TEST</th>
                    <th>RESULT_ON</th>
                    <th>RESULT_OFF</th>
                    <th>TEST_DATE</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
<div class="modal fade" id="recordsModal" tabindex="-1" aria-labelledby="recordsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-lg-custom">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="recordsModalLabel">Serial Numbers</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table id="recordsTable" class="table table-bordered table-striped bonepile-table" style="width:100%">
                    <thead>
                        <tr>
                            <th>SERIAL_NUMBER</th>
                            <th>PRODUCT_LINE</th>
                            <th>MODEL_NAME</th>
                            <th>MO_NUMBER</th>
                            <th>WIP_GROUP(SFC)</th>
                            <th>WIP_GROUP(KANBAN)</th>
                            <th>ERROR_FLAG</th>
                            <th>WORK_FLAG</th>
                            <th>TEST_GROUP</th>
                            <th>TEST_TIME</th>
                            <th>TEST_CODE</th>
                            <th>ERROR_CODE_ITEM</th>
                            <th>ERROR_DESC</th>
                            <th>AGING</th>
                            <th>AGING_OLD</th>
                            <th>LOCATION</th>
                            <th>TEST_RESULT_SN</th>
                            <th>TEST_RESULT_GROUP</th>
                            <th>TEST_RESULT_DATA1</th>
                            <th>TEST_RESULT_DATA2</th>
                            <th>TEST_RESULT_PASS_DATE</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/assets/areas/bonepile/js/bonepile_after.js?v=@DateTime.Now.Ticks"></script>
}
